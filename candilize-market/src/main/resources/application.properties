# Candilize Market Service - candle data, Kafka download pipeline, gRPC GetCandles
spring.application.name=candilize-market
server.port=8080

# ===== MongoDB (pricing/candle data only) =====
spring.mongodb.uri=${MONGODB_URI:mongodb://localhost:27071/candilize}

# ===== Redis =====
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000
app.cache.candle-ttl=60

# ===== Auth service (for scheduler config, REST) =====
app.auth-service.url=${AUTH_SERVICE_URL:http://localhost:8081}
app.internal.api-key=${INTERNAL_API_KEY:internal-dev-key}

# ===== Scheduler =====
app.scheduler.enabled=true
app.scheduler.cron.1m=0 * * * * *
app.scheduler.cron.5m=0 */5 * * * *
app.scheduler.cron.15m=0 */15 * * * *
app.scheduler.cron.30m=0 */30 * * * *
app.scheduler.cron.1h=0 0 * * * *
app.scheduler.cron.4h=0 0 */4 * * *
app.scheduler.cron.1d=0 0 0 * * *
app.scheduler.cron.1w=0 0 0 * * SUN
app.scheduler.cron.1mo=0 0 0 1 * *

# ===== Testing =====
app.testing-mode=false

# ===== Exchange =====
exchange.mexc.base-url=https://api.mexc.com
exchange.binance.base-url=https://api.binance.com
exchange.default-exchange=binance

# ===== Kafka =====
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.admin.auto-create=true
spring.kafka.consumer.group-id=candle-price-consumer-group
app.kafka.topic.price-request=get-price

# ===== gRPC =====
spring.grpc.server.port=9091
spring.grpc.server.health.enabled=true
spring.grpc.server.reflection.enabled=true
spring.grpc.server.observation.enabled=true
spring.grpc.client.observation.enabled=true
spring.grpc.client.channels.auth.address=static://localhost:9090
spring.grpc.client.channels.auth.negotiation-type=plaintext

# ===== Actuator =====
management.endpoints.web.exposure.include=health,info,metrics,grpc
management.endpoint.health.show-details=always
management.endpoint.metrics.enabled=true

# ===== gRPC Logging (use grpc-debug profile for verbose) =====
logging.level.io.grpc=WARN
logging.level.org.springframework.grpc=INFO


logging.file.name=logs/app.log
logging.level.root=INFO
